<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/2aaf0723e720e8b9-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/42e58f5a516ebb1b-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/4e8dfc5aa8742fdc-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/8679c800f1e60000-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/d2c70a2e5d6bd385-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/0d26c7c4f71e78d1.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/386fa29998ac6a74.css" data-precedence="next"/><title>Scott O&#x27;Brien</title><meta name="description" content="My online creative outlet"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_0ec1f4"><div class="flex max-w-full w-full flex-col pt-8 pb-8"><div class="self-center w-full"><h1 class="text-center text-4xl __className_baad2a"><a href="/">Scott O&#x27;Brien</a></h1><ul class="flex flex-wrap justify-center space-x-2 text-gray-400 italic pt-3 mb-8 max-w-2xl w-[80%] m-auto __className_6cf34a"><li class="transition group duration-300 whitespace-nowrap"><a href="/">Writings/Projects</a><span class="block group-hover:max-w-[70%] ml-2 transition-all duration-500 h-0.5 max-w-[70%] bg-orange-500"></span></li><li class="transition group duration-300 whitespace-nowrap"><a href="/about/">About</a><span class="block group-hover:max-w-[70%] ml-2 transition-all duration-500 h-0.5 max-w-0 bg-orange-50 group-hover:bg-orange-400"></span></li><li class="transition group duration-300 whitespace-nowrap"><a href="/bucketlist/">Bucket List</a><span class="block group-hover:max-w-[70%] ml-2 transition-all duration-500 h-0.5 max-w-0 bg-orange-50 group-hover:bg-orange-400"></span></li><li class="transition group duration-300 whitespace-nowrap"><a href="/recipes/">Cooking</a><span class="block group-hover:max-w-[70%] ml-2 transition-all duration-500 h-0.5 max-w-0 bg-orange-50 group-hover:bg-orange-400"></span></li><li class="transition group duration-300 whitespace-nowrap"><a href="/flying/">Flying</a><span class="block group-hover:max-w-[70%] ml-2 transition-all duration-500 h-0.5 max-w-0 bg-orange-50 group-hover:bg-orange-400"></span></li></ul></div><div class="w-full flex flex-col" id="main-content"><div class="self-center mt-7 max-w-2xl w-[80%]"><article class=""><div class="__className_af3318 mb-9"><h2 class="__className_59b087 text-2xl">Address Book For the Blind</h2><div class="text-xs text-gray-400 italic mb-5">Created: <span>11/9/2012, 12:32:51 AM</span></div><div class="prose lg:prose-lg"><p>This article is about using the <a href="http://www.asterisk.org">Asterisk PBX</a> and exploiting <a href="http://www.google.com/insidesearch/features/voicesearch/index.html">Google&#x27;s voice recognition</a>API built for voice search in Chrome to build an address book that technology inept people (my grandmother) can use to place cheap telephone calls over VoIP.</p>
<p>This tool is built for my grandmother; a lady who has <a href="http://www.mdfoundation.com.au">macular degeneration</a> making her legally blind.  She doesn&#x27;t want to invest a great deal of money in this solution or have much of a learning curve, it took long enough to get her using the two button audio book solution on the iPod.  The basic idea is to purchase a direct inward dialing (DID) number and program it into her speed dial, this will connect to an Asterisk virtual machine that will launch the voice recognition to listen to who she wants to dial, look up the number in her address book then connect the call through, all at the rate of about $0.11 for a national call (actually saving her money!).</p>
<!-- -->
<p>I&#x27;m using the <a href="http://zaf.github.com/asterisk-speech-recog/">Speech Recognition for Asterisk</a> module to convert the spoken recording to a string.  The problem with the method using this library for an address books is different words being returned that are pronounced very similar to the names in the book, for instance trying to find the name ‘elmer&#x27; returned ‘Alma&#x27;.  With a bit of python scripting to use <a href="http://www.doughellmann.com/articles/how-tos/phonetic-hashing/index.html">fuzzy matching to search by sound with python</a> we can start to compare what our speech recognition engine returned with what we actually have in our address book. It must be noted that this method only works for a small set of different numbers in an address book, which although fits my grandmother fine, I plan to script the server so I can always make that magic button (DID speed dial) re-direct the call to anywhere I like.</p>
<pre><code>import fuzzy
dmetaphone = fuzzy.DMetaphone(3)
dmetaphone(&#x27;Alma&#x27;)
[&#x27;ALM&#x27;, None]
dmetaphone(&#x27;Elmer&#x27;)
[&#x27;ALM&#x27;, None]
dmetaphone(&#x27;Toss&#x27;)
[&#x27;TS&#x27;, None]
dmetaphone(&#x27;Scott&#x27;)
[&#x27;SKT&#x27;, None]
dmetaphone(&#x27;Troy&#x27;)
[&#x27;TR&#x27;, None]
dmetaphone(&#x27;Sue&#x27;)
[&#x27;S&#x27;, None]
dmetaphone(&#x27;Janet&#x27;)
[&#x27;JNT&#x27;, &#x27;ANT&#x27;]
</code></pre>
<p>So, to execute the plan, I&#x27;m using an account on <a href="https://www.mynetfone.com.au">Mynetfone</a>.  The extensions.conf has a script to answer the call on my purchased DID, prompt for who she wants to talk to, run it through speech recognition, then call the number in her address book through a python script.  The extensions.conf that makes this magic happen looks like this:</p>
<pre><code>[MyNetFone]
; Phone call is made to the service, welcome user and get their speech
exten = 0920xxxx,1,Answer()
exten = 0920xxxx,1,Wait(2)
exten = 0920xxxx,n,agi(googletts.agi, &quot;Hello Miss Duckworth&quot;, en)
exten = 0920xxxx,n,agi(googletts.agi, &quot;I am here to attempt to make your social life easier.&quot;, en)
exten = 0920xxxx,n(intro),agi(googletts.agi, &quot;Who would you like to talk to?&quot;, en)
exten = 0920xxxx,n,agi(speech-recog.agi, en-US)

; Look up number in address book, write debug information then go to the required section
exten = 0920xxxx,n,agi(address-book.agi,${utterance})
exten = 0920xxxx,n,Verbose(1,The text you just said is: ${utterance})
exten = 0920xxxx,n,Verbose(1,The probability to be right is: ${confidence})
exten = 0920xxxx,n,Verbose(1, ${foundname})
exten = 0920xxxx,n,Verbose(1, ${todial})
exten = 0920xxxx,n,GotoIf($[&quot;${foundname}&quot; = &quot;1&quot;]?success:fail)

; Name not found in the address book
exten = 0920xxxx,n(fail),agi(googletts.agi,&quot;Sorry, I could not find the person ${utterance} in the address book&quot;, en)
exten = 0920xxxx,n,agi(googletts.agi, &quot;Please feel free to try again&quot;,en)
exten = 0920xxxx,n,Goto(intro)

; Connect the user through the MyNetFone service.
exten = 0920xxxx,n(success),agi(googletts.agi, &quot;Please hold while I connect you to&quot;, en)
exten = 0920xxxx,n,agi(googletts.agi, &quot;${utterance}&quot;, en)
exten = 0920xxxx,n,Dial(SIP/MyNetFone/${todial}, 30)
exten = 0920xxxx,n,Hangup()
</code></pre>
<p>and the python script address-book.agi file:</p>
<pre><code class="language-python">#!/usr/bin/python

import sys
import fuzzy

# Read and ignore AGI environment (read until blank line)

addressBook = {
   &#x27;scott&#x27;: &#x27;0415xxxxxx&#x27;,
   &#x27;susan&#x27;: &#x27;98xxxxxx&#x27;,
   &#x27;support&#x27;: &#x27;181&#x27;
}

dmetaphone = fuzzy.DMetaphone(3)

env = {}
tests = 0;          

while 1:
   line = sys.stdin.readline().strip()

   if line == &#x27;&#x27;:   
      break  
   key,data = line.split(&#x27;:&#x27;)
   if key[:4] &amp;lt; &#x27;agi_&#x27;:
      #skip input that doesn&#x27;t begin with agi_
      sys.stderr.write(&quot;Did not work!\n&quot;);
      sys.stderr.flush()
      continue
   key = key.strip()
   data = data.strip()
   if key &amp;lt; &#x27;&#x27;:
      env[key] = data

spokenWord = dmetaphone(env[&#x27;agi_arg_1&#x27;])

for name in addressBook:
   if dmetaphone(name) == spokenWord:
      print &#x27;SET VARIABLE todial &quot;%s&quot;&#x27; % addressBook[name]
      print &#x27;SET VARIABLE foundname &quot;1&quot;&#x27;
      sys.exit(0)          
print &#x27;SET VARIABLE foundname &quot;0&quot;&#x27;
</code></pre></div></div></article></div></div></div><script src="/_next/static/chunks/webpack-6854f8b189d0947c.js" async=""></script><script src="/_next/static/chunks/bce60fc1-e7cb3874f5f47943.js" async=""></script><script src="/_next/static/chunks/769-64fef319af2abb40.js" async=""></script><script src="/_next/static/chunks/main-app-7c73dbeff8b74fd8.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/2aaf0723e720e8b9-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/42e58f5a516ebb1b-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/4e8dfc5aa8742fdc-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/css/0d26c7c4f71e78d1.css\",{\"as\":\"style\"}]\n0:\"$L5\"\n"])</script><script>self.__next_f.push([1,"6:HL[\"/_next/static/media/8679c800f1e60000-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n7:HL[\"/_next/static/media/d2c70a2e5d6bd385-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n8:HL[\"/_next/static/css/386fa29998ac6a74.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"9:I{\"id\":\"8802\",\"chunks\":[\"272:static/chunks/webpack-6854f8b189d0947c.js\",\"253:static/chunks/bce60fc1-e7cb3874f5f47943.js\",\"769:static/chunks/769-64fef319af2abb40.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":\"4299\",\"chunks\":[\"272:static/chunks/webpack-6854f8b189d0947c.js\",\"253:static/chunks/bce60fc1-e7cb3874f5f47943.js\",\"769:static/chunks/769-64fef319af2abb40.js\"],\"name\":\"\",\"async\":false}\nc:I{\"id\":\"7477\",\"chunks\":[\"477:static/chunks/477-6554af05b281746c.js\",\"153:static/chunks/153-7f7061897db69601.js\",\"651:static/"])</script><script>self.__next_f.push([1,"chunks/651-05a1ce4efc0860d4.js\",\"534:static/chunks/app/flying/location/[slug]/page-65be048863d8522d.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":\"5212\",\"chunks\":[\"477:static/chunks/477-6554af05b281746c.js\",\"185:static/chunks/app/layout-9d8f06291be9ea84.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":\"3211\",\"chunks\":[\"272:static/chunks/webpack-6854f8b189d0947c.js\",\"253:static/chunks/bce60fc1-e7cb3874f5f47943.js\",\"769:static/chunks/769-64fef319af2abb40.js\"],\"name\":\"\",\"async\":false}\n10:I{\"id\":\"5767\",\"chunks\":[\"272:static/chu"])</script><script>self.__next_f.push([1,"nks/webpack-6854f8b189d0947c.js\",\"253:static/chunks/bce60fc1-e7cb3874f5f47943.js\",\"769:static/chunks/769-64fef319af2abb40.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"5:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0d26c7c4f71e78d1.css\",\"precedence\":\"next\"}]],[\"$\",\"$L9\",null,{\"buildId\":\"nyQ4j_cb2Z01OQbkHVE62\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/post/2012/pbx-address-book/\",\"initialTree\":[\"\",{\"children\":[\"(margined)\",{\"children\":[\"post\",{\"children\":[[\"slug\",\"2012/pbx-address-book\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"2012\\\",\\\"pbx-address-book\\\"]}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$La\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$b\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_0ec1f4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex max-w-full w-full flex-col pt-8 pb-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"self-center w-full\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-center text-4xl __className_baad2a\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/\",\"children\":\"Scott O'Brien\"}]}],[\"$\",\"$Ld\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"w-full flex flex-col\",\"id\":\"main-content\",\"children\":[\"$Le\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}]]}]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_0ec1f4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex max-w-full w-full flex-col pt-8 pb-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"self-center w-full\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-center text-4xl __className_baad2a\",\"children\":[\"$\",\"$Lc\",null,{\"href\":\"/\",\"children\":\"Scott O'Brien\"}]}],[\"$\",\"$Ld\",null,{}]]}],[\"$\",\"div\",null,{\"className\":\"w-full flex flex-col\",\"id\":\"main-content\",\"children\":[\"$\",\"$Lf\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[[\"$\",\"div\",null,{\"className\":\"self-center mt-7 max-w-2xl w-[80%]\",\"children\":[\"$\",\"$Lf\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(margined)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$Lf\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(margined)\",\"children\",\"post\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$Lf\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"(margined)\",\"children\",\"post\",\"children\",[\"slug\",\"2012/pbx-address-book\",\"c\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L10\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L11\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"2012\\\",\\\"pbx-address-book\\\"]}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/386fa29998ac6a74.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"2012/pbx-address-book\",\"c\"]},\"styles\":[]}],\"segment\":\"post\"},\"styles\":[]}]}],null],\"segment\":\"(margined)\"},\"styles\":[]}]}]]}]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\na:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Scott O'Brien\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"My online creative outlet\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]]\n"])</script><script>self.__next_f.push([1,"12:I{\"id\":\"9114\",\"chunks\":[\"962:static/chunks/962-226f429e9782fad0.js\",\"726:static/chunks/app/(margined)/post/[...slug]/page-063ddffa9c53bc9d.js\"],\"name\":\"\",\"async\":false}\n13:I{\"id\":\"5470\",\"chunks\":[\"91:static/chunks/app/flying/flight/[slug]/page-5440ec33784e9466.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"11:[\"$\",\"article\",null,{\"className\":\"\",\"children\":[\"$\",\"div\",null,{\"className\":\"__className_af3318 mb-9\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"__className_59b087 text-2xl\",\"children\":\"Address Book For the Blind\"}],[\"$\",\"div\",null,{\"className\":\"text-xs text-gray-400 italic mb-5\",\"children\":[\"Created: \",[\"$\",\"$L12\",null,{\"date\":\"$D2012-11-09T00:32:51.000Z\"}]]}],\"$undefined\",[\"$\",\"div\",null,{\"className\":\"prose lg:prose-lg\",\"children\":[\"$\",\"$L13\",null,{\"code\":\"var Component=(()=\u003e{var c=Object.create;var i=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var m=(t,e)=\u003e()=\u003e(e||t((e={exports:{}}).exports,e),e.exports),f=(t,e)=\u003e{for(var o in e)i(t,o,{get:e[o],enumerable:!0})},s=(t,e,o,r)=\u003e{if(e\u0026\u0026typeof e==\\\"object\\\"||typeof e==\\\"function\\\")for(let a of u(e))!p.call(t,a)\u0026\u0026a!==o\u0026\u0026i(t,a,{get:()=\u003ee[a],enumerable:!(r=x(e,a))||r.enumerable});return t};var y=(t,e,o)=\u003e(o=t!=null?c(g(t)):{},s(e||!t||!t.__esModule?i(o,\\\"default\\\",{value:t,enumerable:!0}):o,t)),k=t=\u003es(i({},\\\"__esModule\\\",{value:!0}),t);var d=m((T,h)=\u003e{h.exports=_jsx_runtime});var I={};f(I,{default:()=\u003ev,frontmatter:()=\u003eb});var n=y(d()),b={title:\\\"Address Book For the Blind\\\",author:\\\"scottyob\\\",type:\\\"post\\\",date:new Date(1352421171e3),url:\\\"/2012/11/08/address-book-for-a-the-blind/\\\",categories:[\\\"nerd\\\"],tags:[\\\"asterisk\\\",\\\"voip\\\"]};function l(t){let e=Object.assign({p:\\\"p\\\",a:\\\"a\\\",pre:\\\"pre\\\",code:\\\"code\\\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\\\"This article is about using the \\\",(0,n.jsx)(e.a,{href:\\\"http://www.asterisk.org\\\",children:\\\"Asterisk PBX\\\"}),\\\" and exploiting \\\",(0,n.jsx)(e.a,{href:\\\"http://www.google.com/insidesearch/features/voicesearch/index.html\\\",children:\\\"Google's voice recognition\\\"}),\\\"API built for voice search in Chrome to build an address book that technology inept people (my grandmother) can use to place cheap telephone calls over VoIP.\\\"]}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"This tool is built for my grandmother; a lady who has\\\\xA0\\\",(0,n.jsx)(e.a,{href:\\\"http://www.mdfoundation.com.au\\\",children:\\\"macular degeneration\\\"}),\\\"\\\\xA0making her legally blind. \\\\xA0She doesn't want to invest a great deal of money in this solution or have much of a learning curve, it took long enough to get her using the two button audio book solution on the iPod. \\\\xA0The basic idea is to purchase a direct inward dialing (DID) number and program it into her speed dial, this will connect to an Asterisk virtual machine that will launch the voice recognition to listen to who she wants to dial, look up the number in her address book then connect the call through, all at the rate of about $0.11 for a national call (actually saving her money!).\\\"]}),`\\n`,`\\n`,(0,n.jsxs)(e.p,{children:[\\\"I'm using the \\\",(0,n.jsx)(e.a,{href:\\\"http://zaf.github.com/asterisk-speech-recog/\\\",children:\\\"Speech Recognition for Asterisk\\\"}),\\\" module to convert the spoken recording to a string. \\\\xA0The problem with the method using this library for an address books is different words being returned that are pronounced very similar to the names in the book, for instance trying to find the name \\\\u2018elmer' returned \\\\u2018Alma'. \\\\xA0With a bit of python scripting to use \\\",(0,n.jsx)(e.a,{href:\\\"http://www.doughellmann.com/articles/how-tos/phonetic-hashing/index.html\\\",children:\\\"fuzzy matching to search by sound with python\\\"}),\\\"\\\\xA0we can start to compare what our speech recognition engine returned with what we actually have in our address book. It must be noted that this method only works for a small set of different numbers in an address book, which although fits my grandmother fine, I plan to script the server so I can always make that magic button (DID speed dial) re-direct the call to anywhere I like.\\\"]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`import fuzzy\\ndmetaphone = fuzzy.DMetaphone(3)\\ndmetaphone('Alma')\\n['ALM', None]\\ndmetaphone('Elmer')\\n['ALM', None]\\ndmetaphone('Toss')\\n['TS', None]\\ndmetaphone('Scott')\\n['SKT', None]\\ndmetaphone('Troy')\\n['TR', None]\\ndmetaphone('Sue')\\n['S', None]\\ndmetaphone('Janet')\\n['JNT', 'ANT']\\n`})}),`\\n`,(0,n.jsxs)(e.p,{children:[\\\"So, to execute the plan, I'm using an account on \\\",(0,n.jsx)(e.a,{href:\\\"https://www.mynetfone.com.au\\\",children:\\\"Mynetfone\\\"}),\\\". \\\\xA0The extensions.conf has a script to answer the call on my purchased DID, prompt for who she wants to talk to, run it through speech recognition, then call the number in her address book through a python script. \\\\xA0The extensions.conf that makes this magic happen looks like this:\\\"]}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{children:`[MyNetFone]\\n; Phone call is made to the service, welcome user and get their speech\\nexten = 0920xxxx,1,Answer()\\nexten = 0920xxxx,1,Wait(2)\\nexten = 0920xxxx,n,agi(googletts.agi, \\\"Hello Miss Duckworth\\\", en)\\nexten = 0920xxxx,n,agi(googletts.agi, \\\"I am here to attempt to make your social life easier.\\\", en)\\nexten = 0920xxxx,n(intro),agi(googletts.agi, \\\"Who would you like to talk to?\\\", en)\\nexten = 0920xxxx,n,agi(speech-recog.agi, en-US)\\n\\n; Look up number in address book, write debug information then go to the required section\\nexten = 0920xxxx,n,agi(address-book.agi,\\\\${utterance})\\nexten = 0920xxxx,n,Verbose(1,The text you just said is: \\\\${utterance})\\nexten = 0920xxxx,n,Verbose(1,The probability to be right is: \\\\${confidence})\\nexten = 0920xxxx,n,Verbose(1, \\\\${foundname})\\nexten = 0920xxxx,n,Verbose(1, \\\\${todial})\\nexten = 0920xxxx,n,GotoIf($[\\\"\\\\${foundname}\\\" = \\\"1\\\"]?success:fail)\\n\\n; Name not found in the address book\\nexten = 0920xxxx,n(fail),agi(googletts.agi,\\\"Sorry, I could not find the person \\\\${utterance} in the address book\\\", en)\\nexten = 0920xxxx,n,agi(googletts.agi, \\\"Please feel free to try again\\\",en)\\nexten = 0920xxxx,n,Goto(intro)\\n\\n; Connect the user through the MyNetFone service.\\nexten = 0920xxxx,n(success),agi(googletts.agi, \\\"Please hold while I connect you to\\\", en)\\nexten = 0920xxxx,n,agi(googletts.agi, \\\"\\\\${utterance}\\\", en)\\nexten = 0920xxxx,n,Dial(SIP/MyNetFone/\\\\${todial}, 30)\\nexten = 0920xxxx,n,Hangup()\\n`})}),`\\n`,(0,n.jsx)(e.p,{children:\\\"and the python script address-book.agi file:\\\"}),`\\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\\\"language-python\\\",children:`#!/usr/bin/python\\n\\nimport sys\\nimport fuzzy\\n\\n# Read and ignore AGI environment (read until blank line)\\n\\naddressBook = {\\n   'scott': '0415xxxxxx',\\n   'susan': '98xxxxxx',\\n   'support': '181'\\n}\\n\\ndmetaphone = fuzzy.DMetaphone(3)\\n\\nenv = {}\\ntests = 0;          \\n\\nwhile 1:\\n   line = sys.stdin.readline().strip()\\n\\n   if line == '':   \\n      break  \\n   key,data = line.split(':')\\n   if key[:4] \u0026lt; 'agi_':\\n      #skip input that doesn't begin with agi_\\n      sys.stderr.write(\\\"Did not work!\\\\\\\\n\\\");\\n      sys.stderr.flush()\\n      continue\\n   key = key.strip()\\n   data = data.strip()\\n   if key \u0026lt; '':\\n      env[key] = data\\n\\nspokenWord = dmetaphone(env['agi_arg_1'])\\n\\nfor name in addressBook:\\n   if dmetaphone(name) == spokenWord:\\n      print 'SET VARIABLE todial \\\"%s\\\"' % addressBook[name]\\n      print 'SET VARIABLE foundname \\\"1\\\"'\\n      sys.exit(0)          \\nprint 'SET VARIABLE foundname \\\"0\\\"'\\n`})})]})}function w(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(l,t)})):l(t)}var v=w;return k(I);})();\\n;return Component;\"}]}]]}]}]\n"])</script></body></html>